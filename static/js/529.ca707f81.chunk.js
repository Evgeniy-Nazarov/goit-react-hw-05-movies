"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[529],{529:function(n,e,r){r.r(e),r.d(e,{default:function(){return H}});var t,o,i,a,c,s,l,u,d,p=r(861),m=r(439),f=r(757),h=r.n(f),x=r(243),g=r(489),v=function(){var n=(0,p.Z)(h().mark((function n(e){var r;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://api.themoviedb.org/3/search/movie",n.next=3,x.Z.get("https://api.themoviedb.org/3/search/movie",{params:{api_key:g.$,query:e}});case 3:return r=n.sent,n.abrupt("return",r.data.results);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),b=v,j=r(966),Z=r(686),k=r(791),w=r(87),y=r(689),P=r(168),C=r(444),F=C.ZP.div(t||(t=(0,P.Z)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-items: center;\n    padding: 1rem;\n"]))),z=C.ZP.h1(o||(o=(0,P.Z)(["\n    text-align: center;\n    font-size: 2rem;\n    margin-bottom: 1rem;\n"]))),S=C.ZP.input(i||(i=(0,P.Z)(["\n    display: block;\n    width: 100%;\n    padding: 0.5rem;\n    margin-bottom: 1rem;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    font-size: 1rem;\n    &:focus {\n        outline: none;\n        border-color: #0077FF;\n    }\n"]))),_=C.ZP.button(a||(a=(0,P.Z)(["\n    display: block;\n    width: 100%;\n    padding: 0.5rem;\n    margin-bottom: 1rem;\n    border: 1px solid #0077FF;\n    border-radius: 4px;\n    background-color: #0077FF;\n    color: #fff;\n    font-size: 1rem;\n    cursor: pointer;\n    &:hover {\n        background-color: #006FE6;\n    }\n    &:focus {\n        outline: none;\n        border-color: #006FE6;\n    }\n"]))),M=C.ZP.ul(c||(c=(0,P.Z)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-items: center;\n    padding: 0;\n    margin: 0;\n    list-style: none;\n"]))),L=C.ZP.li(s||(s=(0,P.Z)(["\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 1rem;\n    margin-right: 1rem;\n    text-decoration: none;\n    color: black;\n    font-size: 1.2rem;\n   width: 200px;\n   font-size: 1.2rem;\n   font-weight: bold;\n"]))),q=C.ZP.img(l||(l=(0,P.Z)(["\n    width: 200px;\n    height: auto;\n    margin-bottom: 0.5rem;\n"]))),E=(C.ZP.a(u||(u=(0,P.Z)(["\n    text-decoration: none;\n    color: black;\n    font-size: 1.2rem;\n    }\n"]))),(0,C.ZP)(w.Link)(d||(d=(0,P.Z)(["\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 1rem;\n    text-decoration: none;\n    color: black;\n    font-size: 1.2rem;\n    &:hover {\n        color: red;\n    }\n"])))),R=r(184),H=function(){var n,e=(0,k.useState)(null),r=(0,m.Z)(e,2),t=r[0],o=r[1],i=(0,w.useSearchParams)(),a=(0,m.Z)(i,2),c=a[0],s=a[1],l=(0,k.useState)("idle"),u=(0,m.Z)(l,2),d=u[0],f=u[1],x=(0,k.useState)(""),g=(0,m.Z)(x,2),v=g[0],P=g[1],C=(0,y.TH)(),H=null!==(n=c.get("name"))&&void 0!==n?n:"",N=function(){var n=(0,p.Z)(h().mark((function n(){var e;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(f("pending"),""!==H){n.next=5;break}return Z.Report.info("Please enter your search query"),f("idle"),n.abrupt("return");case 5:return n.prev=5,n.next=8,b(H);case 8:if(0!==(e=n.sent).length){n.next=13;break}return f("idle"),Z.Report.failure("No results found"),n.abrupt("return");case 13:0!==e.length&&(o(e),f("resolved")),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(5),P(n.t0),f("rejected");case 20:case"end":return n.stop()}}),n,null,[[5,16]])})));return function(){return n.apply(this,arguments)}}(),T=(0,k.useMemo)((function(){return t?t.filter((function(n){return n.title.toLowerCase().includes(H.toLowerCase().trim())})):null}),[t,H]),$=function(n){s(n?{name:n}:{},{keep:!0,replace:!0})};return"idle"===d?(0,R.jsxs)(F,{children:[(0,R.jsx)(z,{children:"Movies"}),(0,R.jsx)(S,{type:"text",value:H||"",onChange:function(n){return $(n.target.value||void 0)}}),(0,R.jsx)(_,{onClick:N,children:"Search"}),(0,R.jsx)(y.j3,{})]}):"pending"===d?(0,R.jsx)(j.a,{}):"rejected"===d?(0,R.jsxs)(F,{children:[(0,R.jsx)(z,{children:"Movies"}),(0,R.jsx)(S,{type:"text",value:H||"",onChange:function(n){return $(n.target.value||void 0)}}),(0,R.jsx)(_,{onClick:N,children:"Search"}),(0,R.jsx)("h2",{children:v}),(0,R.jsx)(y.j3,{})]}):"resolved"===d?(0,R.jsxs)(F,{children:[(0,R.jsx)(z,{children:"Movies"}),(0,R.jsx)(S,{type:"text",value:H||"",onChange:function(n){return $(n.target.value||void 0)}}),(0,R.jsx)(_,{onClick:N,children:"Search"}),T&&t.map((function(n){return(0,R.jsx)(M,{children:(0,R.jsxs)(L,{children:[(0,R.jsx)(q,{src:"https://image.tmdb.org/t/p/w200".concat(n.poster_path),alt:n.title}),(0,R.jsx)(E,{to:"/movies/".concat(n.id),state:{from:C},children:n.title})]},n.id)})})),(0,R.jsx)(y.j3,{})]}):void 0}}}]);
//# sourceMappingURL=529.ca707f81.chunk.js.map