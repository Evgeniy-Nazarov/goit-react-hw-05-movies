"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[529],{489:function(n,e,r){r.d(e,{$:function(){return t}});var t="7eb5059eee6f318692a5fcd674d6cc43"},529:function(n,e,r){r.r(e),r.d(e,{default:function(){return $}});var t,o,i,a,c,s,l,u,d,p=r(861),x=r(439),h=r(757),m=r.n(h),f=r(243),b=r(489),g=function(){var n=(0,p.Z)(m().mark((function n(e){var r;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://api.themoviedb.org/3/search/movie",n.next=3,f.Z.get("https://api.themoviedb.org/3/search/movie",{params:{api_key:b.$,query:e}});case 3:return r=n.sent,n.abrupt("return",r.data.results);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),v=g,j=r(966),w=r(686),k=r(791),Z=r(87),y=r(689),P=r(168),C=r(444),F=C.ZP.div(t||(t=(0,P.Z)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-items: center;\n    padding: 1rem;\n"]))),z=C.ZP.h1(o||(o=(0,P.Z)(["\n    text-align: center;\n    font-size: 2rem;\n    margin-bottom: 1rem;\n"]))),S=C.ZP.input(i||(i=(0,P.Z)(["\n    display: block;\n    width: 100%;\n    padding: 0.5rem;\n    margin-bottom: 1rem;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    font-size: 1rem;\n    &:focus {\n        outline: none;\n        border-color: #0077FF;\n    }\n    box-shadow: 0 0 10px rgba(0,0,0,0.5);\n"]))),_=C.ZP.button(a||(a=(0,P.Z)(["\n    display: block;\n    width: 100%;\n    padding: 0.5rem;\n    margin-bottom: 1rem;\n    border: 1px solid #0077FF;\n    border-radius: 4px;\n    background-color: #0077FF;\n    color: #fff;\n    font-size: 1rem;\n    cursor: pointer;\n    &:hover {\n        background-color: #006FE6;\n    }\n    &:focus {\n        outline: none;\n        border-color: #006FE6;\n    }\n    box-shadow: 0 0 10px rgba(0,0,0,0.5);\n"]))),M=C.ZP.ul(c||(c=(0,P.Z)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-items: center;\n    padding: 0;\n    margin: 0;\n    list-style: none;\n"]))),L=C.ZP.li(s||(s=(0,P.Z)(["\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 2rem;\n    margin-right: 2rem;\n    text-decoration: none;\n    color: black;\n    font-size: 1.2rem;\n   width: 200px;\n    height: 370px;\n   font-size: 1.2rem;\n   font-weight: bold;\n    text-align: center;\n    box-shadow: 0 0 10px rgba(0,0,0,0.5);\n    border-radius: 4px;\n"]))),q=C.ZP.img(l||(l=(0,P.Z)(["\n    width: 200px;\n    height: 300px;\n    margin-bottom: 0.5rem;\n    border-radius: 4px;\n    border-bottom: 1px solid #ccc;\n"]))),E=(C.ZP.a(u||(u=(0,P.Z)(["\n    text-decoration: none;\n    color: black;\n    font-size: 1.2rem;\n    }\n"]))),(0,C.ZP)(Z.Link)(d||(d=(0,P.Z)(["\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 1rem;\n    text-decoration: none;\n    color: black;\n    font-size: 1.2rem;\n    &:hover {\n        color: red;\n    }\n"])))),R=r(184),$=function(){var n,e=(0,k.useState)(null),r=(0,x.Z)(e,2),t=r[0],o=r[1],i=(0,Z.useSearchParams)(),a=(0,x.Z)(i,2),c=a[0],s=a[1],l=(0,k.useState)("idle"),u=(0,x.Z)(l,2),d=u[0],h=u[1],f=(0,k.useState)(""),b=(0,x.Z)(f,2),g=b[0],P=b[1],C=(0,y.TH)(),$=null!==(n=c.get("name"))&&void 0!==n?n:"",H=function(){var n=(0,p.Z)(m().mark((function n(){var e;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(h("pending"),""!==$){n.next=5;break}return w.Report.info("Please enter your search query"),h("idle"),n.abrupt("return");case 5:return n.prev=5,n.next=8,v($);case 8:if(0!==(e=n.sent).length){n.next=13;break}return h("idle"),w.Report.failure("No results found"),n.abrupt("return");case 13:0!==e.length&&(o(e),h("resolved")),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(5),P(n.t0),h("rejected");case 20:case"end":return n.stop()}}),n,null,[[5,16]])})));return function(){return n.apply(this,arguments)}}(),N=(0,k.useMemo)((function(){return t?t.filter((function(n){return n.title.toLowerCase().includes($.toLowerCase().trim())})):null}),[t,$]),T=function(n){s(n?{name:n}:{},{keep:!0,replace:!0})};return"idle"===d?(0,R.jsxs)(F,{children:[(0,R.jsx)(z,{children:"Movies"}),(0,R.jsx)(S,{type:"text",value:$||"",onChange:function(n){return T(n.target.value||void 0)}}),(0,R.jsx)(_,{onClick:H,children:"Search"}),(0,R.jsx)(y.j3,{})]}):"pending"===d?(0,R.jsx)(j.a,{}):"rejected"===d?(0,R.jsxs)(F,{children:[(0,R.jsx)(z,{children:"Movies"}),(0,R.jsx)(S,{type:"text",value:$||"",onChange:function(n){return T(n.target.value||void 0)}}),(0,R.jsx)(_,{onClick:H,children:"Search"}),(0,R.jsx)("h2",{children:g}),(0,R.jsx)(y.j3,{})]}):"resolved"===d?(0,R.jsxs)(F,{children:[(0,R.jsx)(z,{children:"Movies"}),(0,R.jsx)(S,{type:"text",value:$||"",onChange:function(n){return T(n.target.value||void 0)}}),(0,R.jsx)(_,{onClick:H,children:"Search"}),N&&t.map((function(n){return(0,R.jsx)(M,{children:(0,R.jsxs)(L,{children:[(0,R.jsx)(q,{src:n.poster_path?"https://image.tmdb.org/t/p/w500/".concat(n.poster_path):"https://www.publicdomainpictures.net/pictures/280000/velka/not-found-image-15383864787lu.jpg",alt:n.title}),(0,R.jsx)(E,{to:"/movies/".concat(n.id),state:{from:C},children:n.title})]},n.id)})})),(0,R.jsx)(y.j3,{})]}):void 0}}}]);
//# sourceMappingURL=529.7273710a.chunk.js.map